extends: CONST_vars.yaml

vars:
    # database name
    db: demo_geomapfish_1_6
    # database schema
    schema: main

    # the visible host name
    host: testgmf.sig.cloud.camptocamp.net

    srid: 21781

    # The application's default language. This is the language used by
    # the application if no specific language is specified in the URLs.
    # This also defines the language used for the text search.
    default_locale_name: fr

    # The set of languages supported by the applications.
    available_locale_names:
    - en
    - fr
    - de

    authtkt:
        # One day
        timeout: 86400

    admin_interface:
        # Default values for the admin interface's maps.
        map_x: 740000
        map_y: 5860000
        map_zoom: 10

        # The list of functionalities that can be configured
        # through the admin interface.
        available_functionalities:
        - default_basemap
        - mobile_default_theme
        - location

    functionalities:
        # Functionalities that are accessible to anonymous
        # users.
        anonymous:
            print_template:
            - 1 A4 portrait demo
            - 2 A3 portrait demo
            default_basemap: map
            mobile_default_theme:
#            location:
#            - "'Lausanne': [535436, 155243, 539476, 150443]"
#            - "'Pully': [539606, 152493, 541106, 150443]"
#            - "'Vevey': [551755, 149340, 555995, 145060]"


        # Functionalities that are accessible to authenticated
        # users with no associated functionalities in the
        # database.
        registered:
            print_template:
            - 1 A4 portrait demo
            - 2 A3 portrait demo
            - 3 A4 landscape demo
            - 4 A3 landscape demo

        # Functionalities that are made available to Mako templates.
        available_in_templates:
        - default_basemap
        - location

    # Define URLs to the parent application. Only useful if
    # this application is a child application in a parent/child
    # architecture.
    external_themes_url:
    external_mapserv_url:

    layers:
        geometry_validation: True

    # The "raster web services" configuration. See the "raster"
    # chapter in the integrator documentation.
    raster:
        srtm:
            file: /var/sig/SRTM21781/srtm.shp
            round: 1
        aster:
            file: /var/sig/Aster21781/aster.shp
            round: 1

    fulltextsearch:
        languages:
            fr: fr

    # For base layers
    tiles_url: http://{host}/{instanceid}/tiles

    # Checker configuration
    checker:
        fulltextsearch: pau
        defaults:
            routes_disable: [printproxy_capabilities]
            routes:
            - name: printproxy_info
            print_template: 1 A4 portrait
            print_center_lon: 600000
            print_center_lat: 200000
            print_scale: 10000
        print_spec:
            layout: "A4 portrait"
            outputFormat: "pdf"
            attributes:
                title: ""
                comments: ""
                datasource: []
                map:
                    projection: "EPSG:21781"
                    dpi: 254
                    rotation: 0
                    center: [600000, 200000]
                    scale: 100000
                    longitudeFirst: true
                    layers: []
                legend: {}

    check_collector:
        # Verify that in the `.build/config.yaml` `checker_pdf3` is present, and not `checker_pdf`.
        disabled: [checker_pdf3]

    reset_password:
        # Used to send a confirmation email
        email_from: info@camptocamp.com
        email_subject: New password generated for GeoMapFish
        email_body: |
            Hello,

            You have asked for an new password,
            the new generated password is: %s

            Sincerely yours
            The GeoMapfish team
        smtp_server: smtp.example.com

    print_url: http://localhost:8080/print-{instanceid}/pdf/

update_paths:
- authtkt
- checker
- checker.routes
- check_collector.hosts
- admin_interface
